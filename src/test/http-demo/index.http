#!/usr/bin/env httpx --httpfile

### get my internet ip
# @name myip
GET https://httpbin.org/ip

>>! myip.json

### inspection http post
# @name post
POST https://httpbin.org/post
Content-Type: application/json

[1]

### RSocket Request
// @name request
RSOCKET com.example.UserService.findById
Host: 127.0.0.1:42252
Content-Type: application/json

1

### grpc call SayHello
//@name SayHello
GRPC localhost:50052/Greeter/SayHello

{
  "name": "Jackie"
}

### graphql query over WebSocket
//@name subscription
GRAPHQL ws://localhost:4000/graphql
Content-Type: application/graphql

subscription { greetings }

### Dubbo sayHi
//@name sayHi
DUBBO 127.0.0.1:20880/GreetingsService/sayHi(java.lang.String)
Content-Type: application/json

"jackie"

### send kafka message
//@name kafka-pub
PUB testTopic
Host: kafka://localhost:9092
Content-Type: application/json

{
  "name": "Jackie"
}

###  kafka message
//@name kafka-sub
SUB testTopic
Host: kafka://localhost:9092

### send Nats message
//@name nats
PUB subject1
Host: nats://localhost:4222
Content-Type: application/json

{
  "name": "Jackie"
}

### listen Nats message
//@name nats-sub
SUB subject1
Host: nats://localhost:4222

### publish rabit message
//@name rabbit-pub
PUB queue3
Host: amqp://localhost:5672
Content-Type: application/json

{
  "name": "Jackie"
}

### listen rabit message
//@name rabbit-sub
SUB queue3
Host: amqp://localhost:5672

### publish redis message
//@name redis-pub
PUB channel1
Host: redis://localhost:6379
Content-Type: application/json

{
  "name": "Jackie"
}

### subscribe redis
//@name redis-sub
SUB channel1
Host: redis://localhost:6379

### publish rocketmq message
//@name rocketmq-pub
PUB testTopic
Host: rocketmq://localhost:9876
Content-Type: application/json

{
  "name": "Jackie"
}

### send aliyun event bridge message
//@name ali-event
PUB demo-event-bus
Host: eventbridge://endpoint_host
Authorization: Basic your_key_id:your_key_secret
Content-Type: application/json

{
  "specversion": "1.0",
  "source": "demo.event",
  "type": "com.example.someevent",
  "datacontenttype": "application/json",
  "data": {
    "name": "jackie"
  }
}